{% comment %} Navigation Bar {% endcomment %}
<nav class="bg-primary-gradient text-white shadow-md relative z-50">
  <div class="container mx-auto px-6 py-4 flex justify-between items-center">
    <a href="/" class="text-xl font-semibold text-white">
      <i class="fa-solid fa-cloud-moon-rain"></i>
      Event Manager
    </a>

    {% comment %} Mobile toggle button {% endcomment %}
    <button id="mobile-menu-toggle" class="md:hidden text-2xl focus:outline-none">
      <i class="fa-solid fa-bars-staggered"></i>
    </button>

    {% comment %} Desktop Nav Links {% endcomment %}
    <div class="hidden md:flex space-x-4 font-medium">
      <a href="/" class="hover:underline">All Events</a>

      {% if user.is_authenticated %}  
        {% with group=request.user.groups.first %}
          {% if group %}
            {% if group.name == "Admin" or group.name == "Organizer" %}
              <a href="{% url 'dashboard' %}" class="hover:underline">Dashboard</a>
            {% endif %}
          {% endif %}
        {% endwith %}
        <form method="POST" action="{% url 'sign-out' %}">
          {% csrf_token %}
          <button type="submit" class="hover:underline">Logout</button>
        </form>
      {% else %}
      <a href="{% url 'sign-in' %}" class="hover:underline">Sign In</a>
      <a href="{% url 'sign-up' %}" class="hover:underline">Register</a>
      {% endif %}
    </div>
  </div>

  {% comment %} Mobile Dropdown {% endcomment %}
  <div
    id="mobile-dropdown"
    class="absolute left-0 right-0 bg-primary-gradient text-white text-center py-4 space-y-2 hidden md:hidden transition-all duration-300"
  >
      <a href="/" class="hover:underline">All Events</a>

      {% if user.is_authenticated %}  
        {% with group=request.user.groups.first %}
          {% if group %}
            {% if group.name == "Admin" or group.name == "Organizer" %}
              <a href="{% url 'dashboard' %}" class="hover:underline">Dashboard</a>
            {% endif %}
          {% endif %}
        {% endwith %}
        <form method="POST" action="{% url 'sign-out' %}">
          {% csrf_token %}
          <button type="submit" class="hover:underline">Logout</button>
        </form>
      {% else %}
      <a href="{% url 'sign-in' %}" class="hover:underline">Sign In</a>
      <a href="{% url 'sign-up' %}" class="hover:underline">Register</a>
    {% endif %}
  </div>
</nav>
